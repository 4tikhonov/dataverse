{
  "name": "Announcing workflow - Slack",
  "steps": [
    {
      "parameters": {
        "message": "About to Slack"
      },
      "provider": ":internal",
      "stepType": "log"
    },
    {
      "provider": "edu.harvard.iq.dataverse.publicationannouncer.AnnouncerWorkflowStepSPI",
      "stepType": "slack",
      "parameters": {
        "username": "publication_workflow",
        "channel": "#webhook_test",
        "url": "https://hooks.slack.com/services/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"
      }
    },
    {
      "parameters": {
        "message": "Pre-http request"
      },
      "provider": ":internal",
      "stepType": "log"
    },
    {
      "parameters": {
        "body": "${invocationId}\ndataset.id=${dataset.id} /\ndataset.identifier=${dataset.identifier} /dataset.globalId=${dataset.globalId} /\ndataset.displayName=${dataset.displayName} /\ndataset.citation=${dataset.citation} /\nminorVersion=${minorVersion} /\nmajorVersion=${majorVersion} /\nreleaseCompleted=${releaseStatus} /",
        "expectedResponse": "OK.*",
        "method": "POST",
        "rollbackMethod": "DELETE",
        "rollbackUrl": "http://localhost:5050/dump/${invocationId}",
        "url": "http://localhost:5050/dump/${invocationId}"
      },
      "provider": ":internal",
      "stepType": "http/sr"
    }
  ]
}
